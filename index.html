        
import requests
import json
import time
import hmac
import hashlib

# Set the API endpoint, API key, and API secret
ENDPOINT = "https://www.phemex.com/api/v1/funding/rate"
API_KEY = "8394c55f-3fc4-4790-93ad-70ccd6afa8f2"
API_SECRET = "3-Q5As-oTm36gSjqYe5oy0JHEg1EUjqxdtB4irztgEhjNjc1NDVkYy05M2ExLTQ5NGItODc3Yi1mYTlmYWFjYTRlMmU".encode('utf-8')

# Set the request parameters
params = {
    "symbol": "BTCUSD"
}

# Set the request headers
headers = {
    "Content-Type": "application/json",
    "X-API-KEY": 8394c55f-3fc4-4790-93ad-70ccd6afa8f2
}

# Set the HMAC signature
signature = hmac.new(3-Q5As-oTm36gSjqYe5oy0JHEg1EUjqxdtB4irztgEhjNjc1NDVkYy05M2ExLTQ5NGItODc3Yi1mYTlmYWFjYTRlMmU, json.dumps(params).encode('utf-8'), hashlib.sha256).hexdigest()

# Set the request payload
payload = {
    "params": params,
    "signature": signature,
    "timestamp": int(time.time() * 1000)
}

# Make a POST request to the API endpoint
response = requests.post(ENDPOINT, json=payload, headers=headers)

# Get the funding rate from the response
funding_rate = response.json()["data"]["rate"]

print(f"The current funding rate for Bitcoin is {funding_rate}%")
